
function mergeParticipantFiles(participantsDir, eventName, timeBinIdx, binningMode, freqIdx, blockIdx, sectionsToMerge)
   
    if nargin < 5; freqIdx = NaN; end
    if nargin< 6; blockIdx = 0; end
    if nargin<7; sectionsToMerge = {''}; end
    fprintf("Processing started %s \n",datetime());
    tic;
    % create merger
    merger = MomentumParticipantMerger(participantsDir);

    merger.merge( ...
        eventName      = eventName, ...
        sectionsToMerge= sectionsToMerge, ...
        freqLabel      = freqIdx, ...
        binningMode    = binningMode, ...
        timeBinIdx     = timeBinIdx, ...
        blockBinIdx  = blockIdx, ...
        extension      = ".parquet" ...
    );
    fprintf("Processing finished %s \n",datetime());
    toc;
end
